" ~/.config/nvim/init.vim

" ==================== General ====================

if &compatible
  set nocompatible                  "Disable compatability with Vi.
endif

if &t_Co > 2 || has("gui_running")  "If terminal has colors or when GUI (always colors) then...
  syntax on                           "Switch syntax highlighting on.
endif

set belloff=all                     "Disable bell.
set mouse=                          "Disable mouse support.
set autoread                        "Reload files changed outside Vim.
set backspace=indent,eol,start      "Allow backspacing over everything in insert mode.
set display=truncate                "Show @@@ in the last line if it is truncated.
set fileformat=unix                 "Use unix as standard file type.
set history=200                     "Keep 200 commands and 200 serch patterns in history.
set nowrap                          "Do not wrap lines.
set number                          "Show line numbers.
set ruler                           "Show colum and line number at the bottom.
set scrolloff=5                     "Show a few lines of context around the cursor.
set showcmd                         "Show incomplete command down the bottom.
set showmode                        "Show current mode at the bottom.
set showtabline=2                   "Show tabline at all time.
set ttimeout                        "Makes typing Esc take effect more quickly.
set ttimeoutlen=100                 "Makes typing Esc take effect more quickly.
set wildmenu                        "Enable auto complation menu.
set wildmode=list:longest           "Make wildmenu behave like bash completion.

" ==================== Search =======================

if has('reltime')                   "If possible to timeout then...
  set hlsearch                        "Hightlight search matches.
  set incsearch                       "Incrementally highlight search matches.
  set ignorecase                      "Ignore case when searching,
  set smartcase                       "except when search string contains uppercase.
endif

" ==================== Indentation ==================

if 1                                "If Vim has compiled with +eval features then...
  filetype plugin indent on           "Enable file detection and load indent files.
endif

set autoindent                      "Enable auto indent.
set expandtab                       "Use spaces instead of tabs.
set shiftwidth=2                    "1 tab == 2 spaces
set softtabstop=2                   "1 tab == 2 spaces
set tabstop=2                       "1 tab == 2 spaces

" ==================== Security =====================

set clipboard=                      "Disable copying to the system clipboard.
set nobackup                        "Disable creation of backup files.
set noswapfile                      "Disable swapfiles that acts as autosave in case of crash.
set viminfo=                        "Disable viminfo file from copying data from current session.

" ==================== Provider =====================

let g:python3_host_prog = '$HOME/.pyenv/shims/python3'  "Set python3 provider.
let g:loaded_perl_provider = 0      "Disable perl provider.
let g:loaded_ruby_provider = 0      "Disable ruby provider.

" ==================== Plugins ======================

call plug#begin( '$HOME/.local/share/nvim/plugged' )
  Plug 'github/copilot.vim'         "Github Copilot.
  Plug 'pearofducks/ansible-vim'    "Ansible syntax highlighting.
call plug#end()
                                    "Enable copilot for these filetypes in addition to the default ones.
let g:copilot_filetypes = {
      \ 'yaml': v:true,
      \ 'markdown': v:true,
      \ }
